<div class="container py-4">
  <div class="card shadow p-4 rounded-4 mx-auto" style="max-width: 600px;">
    <h4 class="text-center mb-4">Cadastro de Produto</h4>

    <form [formGroup]="produtoForm" (ngSubmit)="onSubmit()">

      <!-- Código -->
      <div class="mb-3">
        <label for="code" class="form-label">Código</label>
        <input type="text" id="code" class="form-control"
               formControlName="code"
               [class.is-invalid]="produtoForm.get('code')?.invalid && produtoForm.get('code')?.touched">
        <div *ngIf="produtoForm.get('code')?.hasError('required') && produtoForm.get('code')?.touched"
             class="invalid-feedback d-block">
          O código é obrigatório.
        </div>
      </div>

      <!-- Descrição -->
      <div class="mb-3">
        <label for="description" class="form-label">Descrição</label>
        <input type="text" id="description" class="form-control"
               formControlName="description"
               [class.is-invalid]="produtoForm.get('description')?.invalid && produtoForm.get('description')?.touched">
        <div *ngIf="produtoForm.get('description')?.hasError('required') && produtoForm.get('description')?.touched"
             class="invalid-feedback d-block">
          A descrição é obrigatória.
        </div>
      </div>

      <!-- Departamento -->
      <div class="mb-3">
        <label for="department" class="form-label">Departamento</label>
        <select id="department" class="form-select"
                formControlName="department"
                [class.is-invalid]="produtoForm.get('department')?.invalid && produtoForm.get('department')?.touched">
          <option value="" disabled selected>Selecione...</option>
          <option *ngFor="let depto of departamentos" [value]="depto.codigo">
            {{ depto.descricao }}
          </option>
        </select>
        <div *ngIf="produtoForm.get('department')?.hasError('required') && produtoForm.get('department')?.touched"
             class="invalid-feedback d-block">
          O departamento é obrigatório.
        </div>
      </div>

      <!-- Preço -->
      <div class="mb-3">
        <label for="price" class="form-label">Preço (R$)</label>
        <input type="number" step="0.01" id="price" class="form-control"
               formControlName="price"
               [class.is-invalid]="produtoForm.get('price')?.invalid && produtoForm.get('price')?.touched">
        <div *ngIf="produtoForm.get('price')?.hasError('required') && produtoForm.get('price')?.touched"
             class="invalid-feedback d-block">
          O preço é obrigatório.
        </div>
      </div>

      <!-- Status -->
      <div class="form-check form-switch mb-4">
        <input type="checkbox" id="status" class="form-check-input" [disabled]="true" formControlName="status">
        <label class="form-check-label" for="status">Ativo</label>
      </div>

      <!-- Botão -->
      <div class="d-grid">
        <button type="submit" class="btn btn-success" [disabled]="produtoForm.invalid">Salvar Produto</button>
      </div>
    </form>
  </div>
</div>
